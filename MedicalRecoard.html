<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedSchool Portal - My Medical History</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        medblue: '#1E40AF',
                        medlightblue: '#3B82F6',
                        meddarkblue: '#1E3A8A',
                        medgreen: '#10B981',
                        medred: '#EF4444',
                        medpurple: '#8B5CF6',
                    }
                }
            }
        }
    </script>
    <style>
        .modal {
            transition: opacity 0.25s ease;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .history-card {
            transition: all 0.3s ease;
        }
        .history-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .filter-option {
            transition: all 0.2s ease;
        }
        .filter-option:hover {
            background-color: #EFF6FF;
        }
        .rotate-90 {
            transform: rotate(90deg);
        }
        .transition-all {
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <!-- Top Navigation -->
    <nav class="bg-white shadow-md fixed top-0 w-full z-50 transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-6 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center ">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <img src="images/Screenshot_2025-08-21_112549-removebg-preview.png" alt="UniHealth Logo" class="h-10 w-auto mr-2" id="logo">
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="ml-2 flex items-center md:ml-3 space-x-2" id="user-info">
                        
                        <a href="Messages.html" class="relative bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none">
                            <i class="fas fa-bell h-8 w-8 text-lg"></i>
                            <span class="absolute top-1 right-1 inline-block w-2 h-2 bg-medred rounded-full"></span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    
    <main class="pt-20 py-6 mb-20">
        <div class="max-w-8xl mx-auto px-4 sm:px-6 lg:px-8">
         

            <!-- Filter Section -->
            <div class="bg-white rounded-lg shadow mb-6 p-4">
                <div class="flex flex-col md:flex-row md:items-center justify-between">
                    <h3 class="text-lg font-medium text-gray-800 mb-2 md:mb-0">Filter Medical Records</h3>
                    <div class="flex flex-wrap gap-2">
                        <select id="type-filter" class="filter-option px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-medlightblue focus:border-medlightblue">
                            <option value="all">All Types</option>
                            <option value="checkup">Check-up</option>
                            <option value="allergy">Allergy</option>
                            <option value="dental">Dental</option>
                            <option value="vaccination">Vaccination</option>
                        </select>
                        <select id="date-filter" class="filter-option px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-medlightblue focus:border-medlightblue">
                            <option value="all">Any Date</option>
                            <option value="month">Past Month</option>
                            <option value="3months">Past 3 Months</option>
                            <option value="year">Past Year</option>
                        </select>
                        <button id="clear-filters" class="px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-medlightblue">
                            Clear Filters
                        </button>
                    </div>
                </div>
            </div>

            <!-- Medical History List -->
            <div class="bg-white shadow overflow-hidden sm:rounded-lg">
                <div class="px-4 py-5 border-b border-gray-200 sm:px-6 flex justify-between items-center">
                    <h3 class="text-lg leading-6 font-medium text-medblue"><i class="fas fa-history mr-2"></i> My Medical Records</h3>
                  
                </div>
                
                <div id="history-container">
                    <!-- Medical Record 1 -->
                    <div class="border-b border-gray-200 history-card" data-type="checkup" data-date="2023-10-18">
                        <div class="px-4 py-4 sm:px-6 cursor-pointer" onclick="toggleRecordDetails(this)">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <p class="text-sm font-medium text-medblue truncate">General Check-up</p>
                                   
                                </div>
                                <div class="flex items-center">
                                    <p class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Oct 18, 2023</p>
                                    <i class="fas fa-chevron-right ml-2 text-gray-400 transition-all" id="chevron-1"></i>
                                </div>
                            </div>
                            <div class="mt-2 flex justify-between">
                                <div class="flex items-center text-sm text-gray-500">
                                    <i class="fas fa-user-md mr-1.5 text-gray-400"></i>
                                    Sr. Thandi Nkosi, Registered Nurse
                                </div>
                               
                            </div>
                        </div>
                        
                        <!-- Expanded Details -->
                        <div class="px-4 py-4 bg-gray-50 hidden details-content">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="text-sm font-medium text-gray-700 mb-2">Appointment Details</h4>
                                    <div class="space-y-2">
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Date & Time:</div>
                                            <div class="w-2/3 text-sm font-medium">October 18, 2023 at 2:30 PM</div>
                                        </div>
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Duration:</div>
                                            <div class="w-2/3 text-sm font-medium">30 minutes</div>
                                        </div>
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Purpose:</div>
                                            <div class="w-2/3 text-sm font-medium">Routine health check-up</div>
                                        </div>
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Location:</div>
                                            <div class="w-2/3 text-sm font-medium">TUT Main Campus Clinic, Room 205</div>
                                        </div>
                                    </div>
                                    
                                    <h4 class="text-sm font-medium text-gray-700 mt-4 mb-2">Diagnosis</h4>
                                    <div class="bg-blue-50 p-3 rounded-md">
                                        <p class="text-sm text-gray-800">Healthy vitals, no issues detected. Recommended annual follow-up.</p>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="text-sm font-medium text-gray-700 mb-2">Prescriptions & Treatment</h4>
                                    <div class="bg-white border border-gray-200 rounded-md overflow-hidden">
                                        <div class="bg-gray-50 px-3 py-2 border-b border-gray-200">
                                            <p class="text-xs font-medium text-gray-700">No medications prescribed</p>
                                        </div>
                                        <div class="p-3">
                                            <p class="text-xs text-gray-600">No pharmaceutical treatment was necessary for this visit.</p>
                                        </div>
                                    </div>
                                    
                                    <h4 class="text-sm font-medium text-gray-700 mt-4 mb-2">Medical Notes</h4>
                                    <div class="bg-gray-50 p-3 rounded-md">
                                        <ul class="text-sm text-gray-800 list-disc list-inside space-y-1">
                                            <li>Blood pressure: 120/80 mmHg</li>
                                            <li>Heart rate: 72 bpm</li>
                                            <li>Temperature: 98.6°F (37°C)</li>
                                            <li>Respiratory rate: 16 breaths/min</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Medical Record 2 -->
                    <div class="border-b border-gray-200 history-card" data-type="allergy" data-date="2023-09-10">
                        <div class="px-4 py-4 sm:px-6 cursor-pointer" onclick="toggleRecordDetails(this)">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <p class="text-sm font-medium text-medblue truncate">Allergy Consultation</p>
                                   
                                </div>
                                <div class="flex items-center">
                                    <p class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Sept 10, 2023</p>
                                    <i class="fas fa-chevron-right ml-2 text-gray-400 transition-all" id="chevron-2"></i>
                                </div>
                            </div>
                            <div class="mt-2 flex justify-between">
                                <div class="flex items-center text-sm text-gray-500">
                                    <i class="fas fa-user-md mr-1.5 text-gray-400"></i>
                                    Dr. James Khumalo, Allergy Specialist
                                </div>
                               
                            </div>
                        </div>
                        
                        <!-- Expanded Details -->
                        <div class="px-4 py-4 bg-gray-50 hidden details-content">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="text-sm font-medium text-gray-700 mb-2">Appointment Details</h4>
                                    <div class="space-y-2">
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Date & Time:</div>
                                            <div class="w-2/3 text-sm font-medium">September 10, 2023 at 10:00 AM</div>
                                        </div>
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Duration:</div>
                                            <div class="w-2/3 text-sm font-medium">45 minutes</div>
                                        </div>
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Purpose:</div>
                                            <div class="w-2/3 text-sm font-medium">Seasonal allergy assessment</div>
                                        </div>
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Location:</div>
                                            <div class="w-2/3 text-sm font-medium">TUT Main Campus Allergy Unit, Room 104</div>
                                        </div>
                                    </div>
                                    
                                    <h4 class="text-sm font-medium text-gray-700 mt-4 mb-2">Diagnosis</h4>
                                    <div class="bg-blue-50 p-3 rounded-md">
                                        <p class="text-sm text-gray-800">Seasonal allergic rhinitis (hay fever) triggered by grass pollen.</p>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="text-sm font-medium text-gray-700 mb-2">Prescriptions</h4>
                                    <div class="bg-white border border-gray-200 rounded-md overflow-hidden mb-3">
                                        <div class="bg-gray-50 px-3 py-2 border-b border-gray-200 flex justify-between items-center">
                                            <p class="text-xs font-medium text-gray-700">Loratadine</p>
                                            <span class="px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full">Tablet</span>
                                        </div>
                                        <div class="p-3">
                                            <div class="grid grid-cols-2 gap-2 mb-2">
                                                <div class="text-xs text-gray-600">Dosage: <span class="font-medium">10mg</span></div>
                                                <div class="text-xs text-gray-600">Frequency: <span class="font-medium">Once daily</span></div>
                                                <div class="text-xs text-gray-600">Duration: <span class="font-medium">30 days</span></div>
                                                <div class="text-xs text-gray-600">Quantity: <span class="font-medium">30 tablets</span></div>
                                            </div>
                                            <p class="text-xs text-gray-600 mt-1">Take one tablet daily during allergy season. May cause drowsiness.</p>
                                        </div>
                                    </div>
                                    
                                    <div class="bg-white border border-gray-200 rounded-md overflow-hidden">
                                        <div class="bg-gray-50 px-3 py-2 border-b border-gray-200 flex justify-between items-center">
                                            <p class="text-xs font-medium text-gray-700">Fluticasone Nasal Spray</p>
                                            <span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">Spray</span>
                                        </div>
                                        <div class="p-3">
                                            <div class="grid grid-cols-2 gap-2 mb-2">
                                                <div class="text-xs text-gray-600">Dosage: <span class="font-medium">50mcg/spray</span></div>
                                                <div class="text-xs text-gray-600">Frequency: <span class="font-medium">2 sprays per nostril daily</span></div>
                                                <div class="text-xs text-gray-600">Duration: <span class="font-medium">As needed</span></div>
                                                <div class="text-xs text-gray-600">Quantity: <span class="font-medium">1 bottle</span></div>
                                            </div>
                                            <p class="text-xs text-gray-600 mt-1">Use at first sign of nasal symptoms. Shake well before use.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Medical Record 3 -->
                    <div class="border-b border-gray-200 history-card" data-type="dental" data-date="2023-08-22">
                        <div class="px-4 py-4 sm:px-6 cursor-pointer" onclick="toggleRecordDetails(this)">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <p class="text-sm font-medium text-medblue truncate">Dental Cleaning & Check-up</p>
                                    
                                </div>
                                <div class="flex items-center">
                                    <p class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Aug 22,2023</p>
                                    <i class="fas fa-chevron-right ml-2 text-gray-400 transition-all" id="chevron-3"></i>
                                </div>
                            </div>
                            <div class="mt-2 flex justify-between">
                                <div class="flex items-center text-sm text-gray-500">
                                    <i class="fas fa-user-md mr-1.5 text-gray-400"></i>
                                    Dr. Sarah van der Merwe, Dental Surgeon
                                </div>
                               
                            </div>
                        </div>
                        
                        <!-- Expanded Details -->
                        <div class="px-4 py-4 bg-gray-50 hidden details-content">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="text-sm font-medium text-gray-700 mb-2">Appointment Details</h4>
                                    <div class="space-y-2">
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Date & Time:</div>
                                            <div class="w-2/3 text-sm font-medium">August 22, 2023 at 11:15 AM</div>
                                        </div>
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Duration:</div>
                                            <div class="w-2/3 text-sm font-medium">1 hour</div>
                                        </div>
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Purpose:</div>
                                            <div class="w-2/3 text-sm font-medium">Teeth cleaning and check-up</div>
                                        </div>
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Location:</div>
                                            <div class="w-2/3 text-sm font-medium">TUT Main Campus Dental Clinic, Room 312</div>
                                        </div>
                                    </div>
                                    
                                    <h4 class="text-sm font-medium text-gray-700 mt-4 mb-2">Diagnosis</h4>
                                    <div class="bg-blue-50 p-3 rounded-md">
                                        <p class="text-sm text-gray-800">Mild gingivitis with minimal plaque buildup. No cavities detected.</p>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="text-sm font-medium text-gray-700 mb-2">Treatment & Recommendations</h4>
                                    <div class="bg-white border border-gray-200 rounded-md overflow-hidden mb-3">
                                        <div class="bg-gray-50 px-3 py-2 border-b border-gray-200">
                                            <p class="text-xs font-medium text-gray-700">Professional Dental Cleaning</p>
                                        </div>
                                        <div class="p-3">
                                            <p class="text-xs text-gray-600">Ultrasonic scaling and polishing performed. Minor bleeding observed during cleaning.</p>
                                        </div>
                                    </div>
                                    
                                    <div class="bg-white border border-gray-200 rounded-md overflow-hidden">
                                        <div class="bg-gray-50 px-3 py-2 border-b border-gray-200 flex justify-between items-center">
                                            <p class="text-xs font-medium text-gray-700">Fluoride Treatment</p>
                                            <span class="px-2 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded-full">Gel</span>
                                        </div>
                                        <div class="p-3">
                                            <div class="grid grid-cols-2 gap-2 mb-2">
                                                <div class="text-xs text-gray-600">Type: <span class="font-medium">Fluoride varnish</span></div>
                                                <div class="text-xs text-gray-600">Application: <span class="font-medium">Professional application</span></div>
                                            </div>
                                            <p class="text-xs text-gray-600 mt-1">Avoid eating or drinking for 30 minutes after application.</p>
                                        </div>
                                    </div>
                                    
                                    <h4 class="text-sm font-medium text-gray-700 mt-4 mb-2">Home Care Instructions</h4>
                                    <div class="bg-gray-50 p-3 rounded-md">
                                        <ul class="text-sm text-gray-800 list-disc list-inside space-y-1">
                                            <li>Brush twice daily with fluoride toothpaste</li>
                                            <li>Floss at least once daily</li>
                                            <li>Use antiseptic mouthwash as directed</li>
                                            <li>Schedule follow-up in 6 months</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Medical Record 4 -->
                    <div class="border-b border-gray-200 history-card" data-type="vaccination" data-date="2023-07-15">
                        <div class="px-4 py-4 sm:px-6 cursor-pointer" onclick="toggleRecordDetails(this)">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <p class="text-sm font-medium text-medblue truncate">Flu Vaccination</p>
                                   
                                </div>
                                <div class="flex items-center">
                                    <p class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Jul 15, 2023</p>
                                    <i class="fas fa-chevron-right ml-2 text-gray-400 transition-all" id="chevron-4"></i>
                                </div>
                            </div>
                            <div class="mt-2 flex justify-between">
                                <div class="flex items-center text-sm text-gray-500">
                                    <i class="fas fa-user-md mr-1.5 text-gray-400"></i>
                                    Sr. Linda Pretorius, Registered Nurse
                                </div>
                               
                            </div>
                        </div>
                        
                        <!-- Expanded Details -->
                        <div class="px-4 py-4 bg-gray-50 hidden details-content">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="text-sm font-medium text-gray-700 mb-2">Appointment Details</h4>
                                    <div class="space-y-2">
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Date & Time:</div>
                                            <div class="w-2/3 text-sm font-medium">July 15, 2023 at 9:00 AM</div>
                                        </div>
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Duration:</div>
                                            <div class="w-2/3 text-sm font-medium">15 minutes</div>
                                        </div>
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Purpose:</div>
                                            <div class="w-2/3 text-sm font-medium">Seasonal influenza vaccination</div>
                                        </div>
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Location:</div>
                                            <div class="w-2/3 text-sm font-medium">TUT Main Campus Clinic, Room 102</div>
                                        </div>
                                    </div>
                                    
                                    <h4 class="text-sm font-medium text-gray-700 mt-4 mb-2">Vaccine Information</h4>
                                    <div class="bg-blue-50 p-3 rounded-md">
                                        <div class="flex">
                                            <div class="w-1/3 text-sm text-gray-500">Vaccine:</div>
                                            <div class="w-2/3 text-sm font-medium">Influenza Quadrivalent Vaccine 2023-2024</div>
                                        </div>
                                        <div class="flex mt-2">
                                            <div class="w-1/3 text-sm text-gray-500">Batch No:</div>
                                            <div class="w-2/3 text-sm font-medium">FLU2347A</div>
                                        </div>
                                        <div class="flex mt-2">
                                            <div class="w-1/3 text-sm text-gray-500">Administration:</div>
                                            <div class="w-2/3 text-sm font-medium">Intramuscular (left deltoid)</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="text-sm font-medium text-gray-700 mb-2">Aftercare Instructions</h4>
                                    <div class="bg-white border border-gray-200 rounded-md overflow-hidden mb-3">
                                        <div class="bg-gray-50 px-3 py-2 border-b border-gray-200">
                                            <p class="text-xs font-medium text-gray-700">Post-Vaccination Care</p>
                                        </div>
                                        <div class="p-3">
                                            <p class="text-xs text-gray-600 mb-2">Common side effects may include:</p>
                                            <ul class="text-xs text-gray-600 list-disc list-inside pl-2 space-y-1">
                                                <li>Soreness, redness, or swelling at injection site</li>
                                                <li>Low-grade fever</li>
                                                <li>Muscle aches</li>
                                                <li>Headache</li>
                                            </ul>
                                            <p class="text-xs text-gray-600 mt-2">These symptoms should resolve within 1-2 days.</p>
                                        </div>
                                    </div>
                                    
                                    <div class="bg-white border border-gray-200 rounded-md overflow-hidden">
                                        <div class="bg-gray-50 px-3 py-2 border-b border-gray-200 flex justify-between items-center">
                                            <p class="text-xs font-medium text-gray-700">Pain Relief</p>
                                            <span class="px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full">Tablet</span>
                                        </div>
                                        <div class="p-3">
                                            <div class="grid grid-cols-2 gap-2 mb-2">
                                                <div class="text-xs text-gray-600">Medication: <span class="font-medium">Paracetamol</span></div>
                                                <div class="text-xs text-gray-600">Dosage: <span class="font-medium">500mg</span></div>
                                                <div class="text-xs text-gray-600">Frequency: <span class="font-medium">Every 4-6 hours as needed</span></div>
                                                <div class="text-xs text-gray-600">Max: <span class="font-medium">4g per day</span></div>
                                            </div>
                                            <p class="text-xs text-gray-600 mt-1">Only if needed for fever or discomfort. Do not exceed maximum dosage.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- No results message (hidden by default) -->
                <div id="no-results" class="hidden px-4 py-12 text-center">
                    <i class="fas fa-file-medical-alt text-4xl text-gray-300 mb-3"></i>
                    <h3 class="text-lg font-medium text-gray-700">No medical records found</h3>
                    <p class="text-gray-500 mt-1">Try adjusting your filters to see more results.</p>
                </div>
            </div>
        </div>
    </main>

      <!-- Bottom Navigation (Mobile Only) -->
      <nav class="bottom-nav fixed bottom-0 w-full bg-white border-t border-gray-200 z-40 md:hidden">
        <div class="grid grid-cols-4 gap-1 py-2">
            <a href="index.html" class="flex flex-col items-center justify-center p-2 text-gray-500 hover:text-medblue">
                <i class="fas fa-home text-lg"></i>
                <span class="text-xs mt-1">Home</span>
            </a>
            <a href="Appointments.html" class="flex flex-col items-center justify-center p-2 text-gray-500 hover:text-medblue">
                <i class="fas fa-calendar-check text-lg"></i>
                <span class="text-xs mt-1">Appointments</span>
            </a>
            <a href="MedicalRecoard.html" class="flex flex-col items-center justify-center p-2 text-medblue">
                <i class="fas fa-file-medical text-lg"></i>
                <span class="text-xs mt-1">Records</span>
            </a>
            <a href="Profile.html" class="flex flex-col items-center justify-center p-2 text-gray-500 hover:text-medblue">
                <i class="fas fa-user text-lg"></i>
                <span class="text-xs mt-1">Profile</span>
            </a>
        </div>
    </nav>

    <script>
        // Toggle medical record details
        function toggleRecordDetails(element) {
            const detailsContent = element.nextElementSibling;
            const chevron = element.querySelector('.fa-chevron-right');
            
            // Toggle current details
            detailsContent.classList.toggle('hidden');
            
            // Rotate chevron icon
            chevron.classList.toggle('rotate-90');
            
            // Close other open details
            const allDetails = document.querySelectorAll('.details-content');
            const allChevrons = document.querySelectorAll('.fa-chevron-right');
            
            allDetails.forEach(detail => {
                if (detail !== detailsContent && !detail.classList.contains('hidden')) {
                    detail.classList.add('hidden');
                }
            });
            
            allChevrons.forEach(icon => {
                if (icon !== chevron && icon.classList.contains('rotate-90')) {
                    icon.classList.remove('rotate-90');
                }
            });
        }
        
        // Filter functionality
        document.addEventListener('DOMContentLoaded', function() {
            const typeFilter = document.getElementById('type-filter');
            const dateFilter = document.getElementById('date-filter');
            const clearFiltersBtn = document.getElementById('clear-filters');
            const records = document.querySelectorAll('.history-card');
            const noResultsMessage = document.getElementById('no-results');
            const recordCount = document.getElementById('record-count');
            
            // Add event listeners to filters
            typeFilter.addEventListener('change', filterRecords);
            dateFilter.addEventListener('change', filterRecords);
            clearFiltersBtn.addEventListener('click', clearFilters);
            
            function filterRecords() {
                const typeValue = typeFilter.value;
                const dateValue = dateFilter.value;
                
                let visibleCount = 0;
                
                records.forEach(record => {
                    const type = record.getAttribute('data-type');
                    const date = record.getAttribute('data-date');
                    
                    const typeMatch = typeValue === 'all' || type === typeValue;
                    const dateMatch = dateValue === 'all' || isDateInRange(date, dateValue);
                    
                    if (typeMatch && dateMatch) {
                        record.classList.remove('hidden');
                        visibleCount++;
                    } else {
                        record.classList.add('hidden');
                    }
                });
                
                // Show/hide no results message
                if (visibleCount === 0) {
                    noResultsMessage.classList.remove('hidden');
                } else {
                    noResultsMessage.classList.add('hidden');
                }
                
                // Update record count text
                recordCount.textContent = `Showing ${visibleCount} record${visibleCount !== 1 ? 's' : ''}`;
            }
            
            function isDateInRange(dateString, range) {
                const recordDate = new Date(dateString);
                const today = new Date();
                
                switch(range) {
                    case 'month':
                        const pastMonth = new Date();
                        pastMonth.setMonth(today.getMonth() - 1);
                        return recordDate >= pastMonth && recordDate <= today;
                    case '3months':
                        const past3Months = new Date();
                        past3Months.setMonth(today.getMonth() - 3);
                        return recordDate >= past3Months && recordDate <= today;
                    case 'year':
                        const pastYear = new Date();
                        pastYear.setFullYear(today.getFullYear() - 1);
                        return recordDate >= pastYear && recordDate <= today;
                    default:
                        return true;
                }
            }
            
            function clearFilters() {
                typeFilter.value = 'all';
                dateFilter.value = 'all';
                filterRecords();
            }
            
            // Initialize
            filterRecords();
        });
    </script>
</body>
</html>